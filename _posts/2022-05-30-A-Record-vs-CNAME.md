---
layout: post
title: "[20220530] A 레코드와 CNAME"
date: 2022-05-30 21:56
last_modified_at: 2022-05-30 21:56
tags: [network]
toc: true
---

> A 레코드와 CNAME 방식의 차이점을 포스팅한다.

A 레코드와 CNAME이 처음 마주하는 용어들은 아니다.  
내가 만든 웹 프로젝트를 외부에 노출시키면서 서버의 IP 주소가 아닌 도메인 이름으로 접속하기 위해서 설정을 하면서 가끔 보였던 애들이었다.  
그런데 k8s를 ingress를 공부하면서도 보여서 한 번 알아보았다.  

## A 레코드

도메인 주소(www.kukucorn.com)와 IP 주소(99.199.99.9)를 매핑하는 방식이다.  
기억은 나지 않지만 항상 내가 사용했던 방식은 A 레코드 였을 것 같다. 왜냐하면 항상 단순하게 IP 주소와 도메인 주소를 1대1로 매핑했기 때문이다.   
A 레코드의 경우 도메인 주소의 IP 주소를 1번의 요청만에 찾아낼 수 있기 때문에 DNS 변환에 효율적이다.  
하지만, IP 주소가 여러 도메인 주소와 연결되어 있을 때, IP 주소가 빈번하게 바뀐다면 IP 주소와 연관된 모든 도메인을 바꿔줘야 하기 때문에 번거로워진다.  
  
## CNAME

도메인 주소(www.kukucorn.com)와 도메인 주소(www.kukucorn2.com)를 매핑하는 방식이다.  
A 레코드와 반대로 IP 주소를 찾기위해 n(n > 1)번의 요청이 발생하기 때문에 DNS 변환 비용이 증가한다.  
하지만, IP 변경에 유연하게 대처할 수 있다. IP와 관련된 여러 도메인 사이에 프록시 역할을 하는 도메인(IP와 직접 연결되므로 A 레코드 방식 사용)을 둠으로써, IP가 변경될 때 모든 도메인을 변경하는게 아니라 프록시 역할을 하는 도메인의 IP 주소만 변경하면 되기 때문에 변화에 대처하기 쉽다.  
  